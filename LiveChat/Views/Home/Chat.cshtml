@using Microsoft.AspNet.Identity
@{
    ViewBag.Title = "Chat";
    ViewBag.CentralChatHub = MvcApplication.GetCentralChatHub();
    // Enables popover
    //http:// jsfiddle.net/qy9Az/4731/
}
<h2>Chat</h2>

<br><br><br><br><br>
<br><br><br><br><br>
<div id="LiveChatWrapper" class="card text-white bg-dark">
    <!--input id="displayedUserName" type="hidden" /-->
    <button class="btn btn-lg btn-dark"
            data-placement="top"
            id="StartChat"
            data-toggle="popover"
            title='Live chat'
            data-content=" 
                <input type='text' id='message' />
                <input type='button' id='sendmessage' value='Send' />
                <dl id='discussion' style='height:200px; overflow-y: scroll'></dl>
            ">Chat!
</button>
</div>

@section scripts {
        <!--Script references. -->
        <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
        <!--Reference the SignalR library. -->
        <script src="~/Scripts/jquery.signalR-2.2.3.min.js"></script>
        <script src="@ViewBag.CentralChatHub/signalr/hubs"></script>
        <!--Reference the autogenerated SignalR hub script. -->
        <script src="~/signalr/hubs"></script>
        <!--SignalR script to update the chat page and send messages.-->
        <script src="~/Scripts/LiveChat.js"></script>
        <script>
            $(function () {
                EmbedChat("@ViewBag.CentralChatHub");
            });
        </script>
}
